<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - MadiDiary</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="stylesheet" href="dashboard.css">
</head>
<body>
        <div class="d-flex" id="wrapper">
            <!-- Sidebar -->
            <div class="bg-light border-right" id="sidebar-wrapper">
                <div class="sidebar-heading text-center bg-primary">
                    <a href="dashboard.html"><img src="image/Madi Diary logo.png" alt="Logo" class="my-3" style="width: 70%;"></a>
                </div>
                <div class="list-group list-group-flush">
                    <a href="javascript:void(0);" onclick="showHome();" class="list-group-item list-group-item-action bg-light">
                        <i class="fas fa-home" id="active"></i> Home
                    </a>
                    
                    <a href="#categoriesSubmenu" class="list-group-item list-group-item-action bg-light" data-toggle="collapse" onclick="showJournal();">
                        <i class="fas fa-book"></i> My Journals
                    </a>

                    <div id="categoriesSubmenu" class="collapse">
                        <a href="#journalsSubmenu" class="list-group-item list-group-item-action bg-light" data-toggle="collapse" style="font-size: 14px;">
                            Categories
                        </a>
                    </div>
                    <div id="journalsSubmenu" class="collapse">
                        <a href="#" class="list-group-item list-group-item-action bg-light pl-5">Start New Journals</a>
                    </div>
                    <a href="#plannerSubmenu" class="list-group-item list-group-item-action bg-light" data-toggle="collapse">
                        <i class="fas fa-calendar"></i> Planner
                    </a>
                    <div id="plannerSubmenu" class="collapse">
                        <a href="#" class="list-group-item list-group-item-action bg-light pl-5">Planner 1</a>
                        <a href="#" class="list-group-item list-group-item-action bg-light pl-5">Planner 2</a>
                    </div>
                </div>
            </div>
            <!-- /#sidebar-wrapper -->

            <!-- Page Content -->
            <div id="page-content-wrapper">
                <nav class="navbar navbar-expand-lg navbar-light bg-primary" style="background-color: #3b7cf6;">
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>

                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <input type="text" placeholder="Search Here" id="input">
                        <ul class="navbar-nav ml-auto mt-2 mt-lg-0 g-2">
                            <li class="nav-item">
                                <a class="nav-link text-center text-light" href="#" style="margin-top: 10px;">Calendar</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link text-center text-light" href="#" style="margin-top: 10px;">Analytics</a>
                            </li>
                            <a href="#"><i class="fa-regular fa-bell" style="color: #ffffff; margin-top: 10px;"></i></a>
                            <li class="nav-item">
                                <a class="nav-link text-center text-light" href="#"><img src="image/user.png" alt="User Image" class="rounded-circle" style="width: 30px;"></a>
                            </li>
                        </ul>
                    </div>
                </nav>

                <!-- Home Section -->
                <div class="container-fluid" id="homesection">
                    <nav aria-label="breadcrumb" class="mt-3">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a href="javascript:void(0);" onclick="showHome();" class="active-tab"> <i class="fas fa-home" style="color: #3b7cf6;"></i> Home</a></li>
                            <li class="breadcrumb-item"><a href="javascript:void(0);" onclick="showOverview();">Overview</a></li>
                        </ol>
                    </nav>
                    <h1 class="mt-4"><b style="color: #000000;">Good Morning, User</b></h1>
                    <button class="btn btn-primary">Customize Home</button>
                    <div class="row">
                        <div class="col-lg-6 col-md-6 mb-4">
                            <div class="card">
                                <div class="card-body text-center">
                                    <i class="fas fa-book fa-2x mb-3" style="color: #3b7cf6;"></i>
                                    <h5 class="card-title">Start a new journal</h5>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6 col-md-6 mb-4">
                            <div class="card">
                                <div class="card-body text-center">
                                    <i class="fas fa-calendar-alt fa-2x mb-3" style="color: #3b7cf6;"></i>
                                    <h5 class="card-title">Planner</h5>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            <!-- Overview Section - Initially Hidden -->
            <div id="overviewSection" class="overviewSection" style="display: none;">
                <nav aria-label="breadcrumb" class="mt-3">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="javascript:void(0);" onclick="showHome();" style="color: #000000; margin-left: 17px;"> <i class="fas fa-home" style="color: #000000;"></i> Home</a></li>
                        <li class="breadcrumb-item"><a href="javascript:void(0);" onclick="showOverview();" class="active-tab">Overview</a></li>
                    </ol>
                </nav>
                <ul class="nav nav-tabs">
                    <li class="nav-item">
                        <a class="nav-link" href="javascript:void(0);" onclick="showRecentJournalEntries();" class="active-tab">üìî Recent Journal Entries</a>
                    </li>
                    <li class="nav-item" id="nav-item">
                        <a class="nav-link" href="javascript:void(0);" onclick="showTask();" class="active-tab">üìù Task</a>
                    </li>
                    <li class="nav-item" id="nav-item-list">
                        <a class="nav-link" href="javascript:void(0);" onclick="showMoodTrends();" class="active-tab">üòä Mood Trends</a>
                    </li>
                </ul>
                

                <div class="journal-entries mt-4" id="recentjournalentriessection">
                    <div class="card mb-3">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-2">
                                    <div class="date-box text-center">
                                        <span class="day">Wed</span><br>
                                        <span class="date">17</span>
                                    </div>
                                </div>
                                <div class="col-md-8">
                                    <h5 class="card-title">Title of journal</h5>
                                    <p class="card-text">Brief entries details, this contains just a little part of the main journal body...</p>
                                </div>
                                <div class="col-md-2 text-left time">
                                    <span>8:30 PM</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card mb-3">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-2">
                                    <div class="date-box text-center">
                                        <span class="day">Wed</span><br>
                                        <span class="date">17</span>
                                    </div>
                                </div>
                                <div class="col-md-8">
                                    <h5 class="card-title">Title of journal</h5>
                                    <p class="card-text">Brief entries details, this contains just a little part of the main journal body...</p>
                                </div>
                                <div class="col-md-2 text-left time">
                                    <span>8:30 PM</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card mb-3">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-2">
                                    <div class="date-box text-center">
                                        <span class="day">Wed</span><br>
                                        <span class="date">17</span>
                                    </div>
                                </div>
                                <div class="col-md-8">
                                    <h5 class="card-title">Title of journal</h5>
                                    <p class="card-text">Brief entries details, this contains just a little part of the main journal body...</p>
                                </div>
                                <div class="col-md-2 text-left time">
                                    <span>8:30 PM</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- TASK SECTION -->

                <div class="task mt-4" id="taskSection">
                    <div class="task-dashboard">
                        <div class="task-header">
                            <h2>Task</h2>
                            <div class="task-tabs">
                                <a href="#" id="active">Upcoming</a>
                                <a href="#">Overdue</a>
                                <a href="#">Completed</a>
                            </div>
                            <button class="create-task-btn">Create a task</button>
                        </div>
                        <div class="task-list">
                            <div class="task-item high-priority">
                                <div class="task-info">
                                    <div class="task-name"><span class="task-icon" style="background-color: #FFCCCC;"></span> Task Name</div>
                                    <div class="due-date">Due Date: 7/20/2024</div>
                                    <div class="progress-bar" style="background-color: #FFCCCC;">
                                        <div class="progress" style="width: 10%; background-color: #FF9999;"></div>
                                    </div>
                                    <div class="progress-text" id="progress-text">10% completed</div>
                                </div>
                                <div class="task-assignee" id="task-assignee">
                                    <img src=image/user.png alt="Assignee" class="assignee-img">
                                    <div class="assignee-email">assigneeeemailadresss</div>
                                </div>
                                <div class="task-actions">
                                    <button class="subtask-btn">View Sub Task</button>
                                    <span class="priority high">Priority High</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Modal for Create Task -->
                <div id="createTaskModal" class="modal">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title">Create New Task</h5>
                                <button type="button" class="close close-btn" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <form id="createTaskForm">
                                    <div class="form-group">
                                        <label for="taskName">Task Name</label>
                                        <input type="text" id="taskName" class="form-control" placeholder="Project Name">
                                    </div>
                                    <div class="form-group">
                                        <label for="taskDescription">Task Description</label>
                                        <textarea id="taskDescription" class="form-control" rows="3" placeholder="Detailed task description, this contain a little description of the task and how it works..."></textarea>
                                    </div>
                                    <div class="form-group">
                                        <label>Priority</label>
                                        <div class="priority-options">
                                            <input type="radio" id="priorityHigh" name="priority" value="high">
                                            <label for="priorityHigh" style="color: #ff0000;">High</label>
                                            <input type="radio" id="priorityMedium" name="priority" value="medium">
                                            <label for="priorityMedium" style="color: #ff9900;">Medium</label>
                                            <input type="radio" id="priorityLow" name="priority" value="low">
                                            <label for="priorityLow" style="color: #33cc33;">Low</label>
                                        </div>
                                    </div>
                                    <div class="form-group due-date">
                                        <div class="datepicker">
                                            <i class="fas fa-calendar-alt"></i>
                                            <input type="date" id="dueDate" class="form-control" placeholder="Select Due Date">
                                        </div>
                                        <div>
                                            <input type="radio" id="noDueDate" name="noDueDate">
                                            <label for="noDueDate">No Due Date</label>
                                        </div>
                                    </div>
                                    <div class="form-group assignee-input">
                                        <label for="assignee">Assignee</label>
                                        <i class="fas fa-user"></i>
                                        <input type="email" id="assigneeEmail" class="form-control" placeholder="yourname@gmail.com">
                                        <div class="assignee-section">
                                            <img src="image/user.png" alt="Assignee">
                                            <span class="assignee-email">yourname@gmail.com</span>
                                        </div>
                                    </div>
                                    <div class="form-group text-center">
                                        <button type="submit" class="btn-create-task">Create Task</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>


                <div class="task mt-4" id="moodtrends">
                    <div class="card mb-3">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-2"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Journal Section -->
            <div id="journalsection" style="display: none;">
                <div class="container">
                        <header>
                            <div class="header-content">
                                <h1><i class="fas fa-book" style="color: #3b7cf6;"></i><a href="javascript:void(0);" onclick="showJournal();" style="text-decoration: none;" id="journals">Journals</a></h1>
                            </div>
                        </header>
                        <main>
                            <div class="welcome-section">
                                <h2>Welcome To Your Journals</h2>
                                <p>You can start with a new journal or use available templates</p>
                                <div class="image-section">
                                    <img src="image/Novelist writing-cuate 1.png" alt="Journal Illustration">
                                </div>
                                <button class="start-journal-btn">Start Journal</button>
                            </div>
                        </main>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /#wrapper -->

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="scripts.js"></script>

    <script>
        function showHome() {
        document.getElementById('homesection').style.display = 'block';
        document.getElementById('journalsection').style.display = 'none';
        document.getElementById('overviewSection').style.display = 'none';

        // Update active tab
        document.querySelector('.breadcrumb .breadcrumb-item a.active-tab').classList.remove('active-tab');
        document.querySelector('.breadcrumb .breadcrumb-item a[href="javascript:void(0);"][onclick="showHome();"]').classList.add('active-tab');

        // Change color for Home and Overview
        document.querySelector('.breadcrumb .breadcrumb-item a[href="javascript:void(0);"][onclick="showHome();"]').style.color = '#3b7cf6';
        document.querySelector('.breadcrumb .breadcrumb-item a[href="javascript:void(0);"][onclick="showOverview();"]').style.color = '#000000';
    }

    function showJournal() {
        document.getElementById('journalsection').style.display = 'block';
        document.getElementById('homesection').style.display = 'none';
        document.getElementById('overviewSection').style.display = 'none';

        // Update active tab
        document.querySelector('header .header-content a.active-tab').classList.remove('active-tab');
        document.querySelector('header .header-content a[href="javascript:void(0);"][onclick="showJournal();"]').classList.add('active-tab');
    }

    function showOverview() {
        document.getElementById('homesection').style.display = 'none';
        document.getElementById('overviewSection').style.display = 'block';
        document.getElementById('taskSection').style.display = 'none';
        document.getElementById('moodtrends').style.display = 'none';

        // Update active tab
        document.querySelector('.breadcrumb .breadcrumb-item a.active-tab').classList.remove('active-tab');
        document.querySelector('.breadcrumb .breadcrumb-item a[href="javascript:void(0);"][onclick="showOverview();"]').classList.add('active-tab');
        document.querySelector('.nav-tabs .nav-item a.active-tab').classList.remove('active-tab');
        document.querySelector('.nav-tabs .nav-item a.active-tab').classList.remove('active-tab');

        // Change color for Home and Overview
        document.querySelector('.breadcrumb .breadcrumb-item a[href="javascript:void(0);"][onclick="showHome();"]').style.color = '#000000';
        document.querySelector('.breadcrumb .breadcrumb-item a[href="javascript:void(0);"][onclick="showOverview();"]').style.color = '#3b7cf6';
        document.querySelector('.nav-tabs .nav-item a[href="javascript:void(0);"][onclick="showTask();"]').style.color = '#000000';
        document.querySelector('.nav-tabs .nav-item a[href="javascript:void(0);"][onclick="showMoodTrends();"]').style.color = '#000000';

        // Smooth scroll to the overview section
        document.getElementById('overviewSection').scrollIntoView({
            behavior: 'smooth'
        });
    }


    // RECENT JOURNAL ENTRIES, TASK AND MOOD TRENDS FUNCTIONS

    function showRecentJournalEntries() {
        document.getElementById('recentjournalentriessection').style.display = 'block';
        document.getElementById('taskSection').style.display = 'none';
        document.getElementById('moodtrends').style.display = 'none';

        // Update active tab
        document.querySelector('.nav-tabs .nav-item a.active-tab').classList.remove('active-tab');
        document.querySelector('.nav-tabs .nav-item a[href="javascript:void(0);"][onclick="showRecentJournalEntries();"]').classList.add('active-tab');
        document.querySelector('.nav-tabs .nav-item a.active-tab').classList.remove('active-tab');

        // Change color for Recent Journal Entries and Task
        document.querySelector('.nav-tabs .nav-item a[href="javascript:void(0);"][onclick="showRecentJournalEntries();"]').style.color = '#3b7cf6';
        document.querySelector('.nav-tabs .nav-item a[href="javascript:void(0);"][onclick="showTask();"]').style.color = '#000000';
        document.querySelector('.nav-tabs .nav-item a[href="javascript:void(0);"][onclick="showMoodTrends();"]').style.color = '#000000';
    }

    function showTask() {
        document.getElementById('recentjournalentriessection').style.display = 'none';
        document.getElementById('taskSection').style.display = 'block';
        document.getElementById('moodtrends').style.display = 'none';

        // Update active tab
        document.querySelector('.nav-tabs .nav-item a.active-tab').classList.remove('active-tab');
        document.querySelector('..nav-tabs .nav-item a[href="javascript:void(0);"][onclick="showTask();"]').classList.add('active-tab');
        document.querySelector('.nav-tabs .nav-item a.active-tab').classList.remove('active-tab');

        // Change color for Recent Journal Entries and Task
        document.querySelector('.nav-tabs .nav-item a[href="javascript:void(0);"][onclick="showRecentJournalEntries();"]').style.color = '#000000';
        document.querySelector('..nav-tabs .nav-item a[href="javascript:void(0);"][onclick="showTask();"]').style.color = '#3b7cf6';
        document.querySelector('.nav-tabs .nav-item a[href="javascript:void(0);"][onclick="showMoodTrends();"]').style.color = '#000000';

        // Smooth scroll to the Task section
        document.getElementById('taskSection').scrollIntoView({
            behavior: 'smooth'
        });
    }

    function showMoodTrends() {
        document.getElementById('recentjournalentriessection').style.display = 'none';
        document.getElementById('taskSection').style.display = 'none';
        document.getElementById('moodtrends').style.display = 'block';

        // Update active tab
        document.querySelector('.nav-tabs .nav-item a.active-tab').classList.remove('active-tab');
        document.querySelector('.nav-tabs .nav-item a.active-tab').classList.remove('active-tab');
        document.querySelector('..nav-tabs .nav-item a[href="javascript:void(0);"][onclick="showMoodTrends();"]').classList.add('active-tab');

        // Change color for Recent Journal Entries and Task
        document.querySelector('.nav-tabs .nav-item a[href="javascript:void(0);"][onclick="showRecentJournalEntries();"]').style.color = '#000000';
        document.querySelector('..nav-tabs .nav-item a[href="javascript:void(0);"][onclick="showTask();"]').style.color = '#000000';
        document.querySelector('.nav-tabs .nav-item a[href="javascript:void(0);"][onclick="showMoodTrends();"]').style.color = '#3b7cf6';

        // Smooth scroll to the Task section
        document.getElementById('moodtrends').scrollIntoView({
            behavior: 'smooth'
        });
    }

    /// Get modal element
    var modal = document.getElementById("createTaskModal");

    // Get open modal button
    var openModalBtn = document.querySelector(".create-task-btn");

    // Get close button
    var closeBtn = document.querySelector(".close-btn");

    // Get the form element
    var form = modal.querySelector("form");

    // Listen for open click
    openModalBtn.onclick = function() {
        modal.style.display = "block";
    }

    // Listen for close click
    closeBtn.onclick = function() {
        modal.style.display = "none";
    }

    // Listen for outside click
    window.onclick = function(event) {
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }

    // Listen for form submission
    form.onsubmit = function(event) {
        event.preventDefault(); // Prevent the form from submitting the traditional way

        // Get the values from the form
        var taskName = document.getElementById("taskName").value;
        var dueDate = document.getElementById("dueDate").value;
        
        // Get the selected priority value
        var priority = document.querySelector('input[name="priority"]:checked').value;
        
        var assigneeEmail = document.getElementById("assigneeEmail").value;

        // Determine the priority class and colors
        var priorityClass = "";
        var priorityColor = "";
        var progressBarColor = "";
        var progressColor = "";

        if (priority === "high") {
            priorityClass = "high-priority";
            priorityColor = "#FF9999";
            progressBarColor = "#FFCCCC";
            progressColor = "#FF9999";
        } else if (priority === "medium") {
            priorityClass = "medium-priority";
            priorityColor = "#FFB84D";
            progressBarColor = "#FFD9B3";
            progressColor = "#FFB84D";
        } else if (priority === "low") {
            priorityClass = "low-priority";
            priorityColor = "#99FF99";
            progressBarColor = "#CCFFCC";
            progressColor = "#99FF99";
        }

        // Create a new task item
        var taskItem = `
            <div class="task-item ${priorityClass}">
                <div class="task-info">
                    <div class="task-name" style="color: ${progressColor};">
                        <span class="task-icon" style="background-color: ${progressBarColor};"></span> ${taskName}
                    </div>
                    <div class="due-date">Due Date: ${dueDate}</div>
                    <div class="progress-bar" style="background-color: ${progressBarColor};">
                        <div class="progress" style="width: 10%; background-color: ${progressColor};"></div>
                    </div>
                    <div class="progress-text" style="color: ${progressColor};">10% completed</div>
                </div>
                <div class="task-assignee">
                    <img src="image/user.png" alt="Assignee" class="assignee-img">
                    <div class="assignee-email">${assigneeEmail}</div>
                </div>
                <div class="task-actions">
                    <button class="subtask-btn">View Sub Task</button>
                    <span class="priority ${priority}">Priority ${priority.charAt(0).toUpperCase() + priority.slice(1)}</span>
                </div>
            </div>
        `;

        // Insert the new task item into the task list
        var taskList = document.querySelector(".task-list");
        taskList.insertAdjacentHTML("beforeend", taskItem);

        // Close the modal and reset the form
        modal.style.display = "none";
        form.reset();
    }
    </script>
</body>
</html>